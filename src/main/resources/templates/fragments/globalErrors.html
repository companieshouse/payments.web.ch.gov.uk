<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title></title>
    </head>
    <body>
        <div th:fragment="globalErrors" th:if="${#fields.hasErrors('*')}">
            <div class="error-summary" role="group" aria-labelledby="error-summary-heading-example-1" tabindex="-1">
                <h2 class="heading-medium error-summary-heading" id="error-summary-heading">There's been a problem</h2>
                <p id="error-summary-subheading">Check the following:</p>
                <ul class="error-summary-list" id="error-text">
                    <li th:each="e : ${#fields.detailedErrors()}" th:class="${e.global}? globalerr : fielderr">
                        <div>
                            <!-- Display 'fieldName: message' if fieldName message property is not null -->
                            <a th:if="${#messages.msgOrNull(e.fieldName) != null}"
                               th:href="'#' + ${e.fieldName} + '-errorId'"
                               th:id="${e.fieldName} + '-globalErrorId'"
                               th:text="#{${e.fieldName}} + ' ' + ${#strings.unCapitalize(e.message)}">
                            </a>
                            <!-- If fieldName message property is null, just display message -->
                            <a th:if="${#messages.msgOrNull(e.fieldName) == null}"
                               th:href="'#' + ${e.fieldName} + '-errorId'"
                               th:id="${e.fieldName} + '-globalErrorId'"
                               th:text="${e.message}">
                            </a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </body>
</html>